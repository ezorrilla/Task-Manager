<div class="contenedor-inicio-sesion">
  <mat-card class="tarjeta-login">
    <mat-card-header>
      <mat-card-title>
        <mat-icon aria-hidden="true">task_alt</mat-icon>
        Task Manager
      </mat-card-title>
      <mat-card-subtitle>Gestiona tus tareas de manera simple</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      @if (cargando()) {
        <app-cargando mensaje="Verificando..." />
      } @else {
        <form [formGroup]="formulario" (ngSubmit)="iniciarSesion()">
          <mat-form-field appearance="outline" class="campo-completo">
            <mat-label>Correo electronico</mat-label>
            <input
              matInput
              type="email"
              formControlName="correo"
              placeholder="ejemplo@correo.com"
              autocomplete="email"
              aria-describedby="error-correo" />
            <mat-icon matSuffix aria-hidden="true">email</mat-icon>

            @if (tieneError('correo', 'required')) {
              <mat-error id="error-correo">El correo es obligatorio</mat-error>
            }
            @if (tieneError('correo', 'correoInvalido')) {
              <mat-error id="error-correo">Ingrese un correo valido</mat-error>
            }
          </mat-form-field>

          <button
            mat-flat-button
            color="primary"
            type="submit"
            class="boton-ingresar"
            [disabled]="cargando()"
            aria-label="Ingresar a la aplicacion">
            <mat-icon aria-hidden="true">login</mat-icon>
            Ingresar
          </button>
        </form>
      }
    </mat-card-content>
  </mat-card>
</div>
